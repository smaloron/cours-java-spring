<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-05-11T08:51:19.839202"><title>ControllerAdvice | Spring</title><script type="application/json" id="virtual-toc-data">[{"id":"support-de-cours-l-annotation-controlleradvice-dans-spring-boot-contexte-web-mvc","level":0,"title":"Support de Cours : L\u0027annotation @ControllerAdvice dans Spring Boot (Contexte Web MVC)","anchor":"#support-de-cours-l-annotation-controlleradvice-dans-spring-boot-contexte-web-mvc"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="ControllerAdvice | Spring"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Spring Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/030-01-controlleradvice.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="ControllerAdvice | Spring"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/030-01-controlleradvice.html#webpage",
    "url": "writerside-documentation/030-01-controlleradvice.html",
    "name": "ControllerAdvice | Spring",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Spring Help"
}</script><!-- End Schema.org --></head><body data-id="030-01-ControllerAdvice" data-main-title="ControllerAdvice" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="030-00-La-gestion-evenementielle.md|La gestion événementielle"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Spring  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="030-01-ControllerAdvice" id="030-01-ControllerAdvice.md">ControllerAdvice</h1><p id="-katewm_3">Ok, voici une proposition de support de cours sur l'annotation <code class="code" id="-katewm_6">@ControllerAdvice</code> dans Spring Boot pour un contexte web MVC, en excluant la gestion des exceptions.</p><section class="chapter"><h2 id="support-de-cours-l-annotation-controlleradvice-dans-spring-boot-contexte-web-mvc" data-toc="support-de-cours-l-annotation-controlleradvice-dans-spring-boot-contexte-web-mvc">Support de Cours : L'annotation @ControllerAdvice dans Spring Boot (Contexte Web MVC)</h2><p id="-katewm_7"><span class="control" id="-katewm_16">Public Cible :</span> D&eacute;veloppeurs Spring Boot ayant des bases en Spring MVC. <span class="control" id="-katewm_17">Pr&eacute;requis :</span> Connaissance de Spring Core, Spring MVC (<code class="code" id="-katewm_18">@Controller</code>, <code class="code" id="-katewm_19">@RequestMapping</code>, Mod&egrave;le, Vues type Thymeleaf/JSP), gestion des formulaires. <span class="control" id="-katewm_20">Objectif :</span> Comprendre et utiliser <code class="code" id="-katewm_21">@ControllerAdvice</code> pour centraliser des logiques transversales appliqu&eacute;es aux contr&ocirc;leurs web, hors gestion des exceptions.</p><section class="chapter"><h3 id="1-introduction-controlleradvice" data-toc="1-introduction-controlleradvice">1. Introduction &agrave; @ControllerAdvice</h3><p id="-katewm_22">Dans une application Spring Boot web bas&eacute;e sur Spring MVC, il est fr&eacute;quent d'avoir besoin d'ex&eacute;cuter certaines logiques avant ou pendant le traitement des requ&ecirc;tes par plusieurs contr&ocirc;leurs. Par exemple :</p><ul class="list _bullet" id="-katewm_23"><li class="list__item" id="-katewm_29"><p id="-katewm_31">Ajouter des donn&eacute;es communes au mod&egrave;le pour qu'elles soient disponibles dans toutes les vues (ou un sous-ensemble de vues).</p></li><li class="list__item" id="-katewm_30"><p id="-katewm_32">Configurer la mani&egrave;re dont les donn&eacute;es des requ&ecirc;tes sont li&eacute;es aux objets Java (data binding) de mani&egrave;re globale.</p></li></ul><p id="-katewm_24">L'annotation <code class="code" id="-katewm_33">@ControllerAdvice</code> est une sp&eacute;cialisation de l'annotation <code class="code" id="-katewm_34">@Component</code>. Elle permet de d&eacute;clarer une classe qui fournira des traitements transversaux applicables &agrave; un ensemble de contr&ocirc;leurs (<code class="code" id="-katewm_35">@Controller</code>). Ces traitements sont &quot;greff&eacute;s&quot; au cycle de vie de la requ&ecirc;te g&eacute;r&eacute;e par Spring MVC.</p><p id="-katewm_25"><span class="control" id="-katewm_36">Points Cl&eacute;s :</span></p><ul class="list _bullet" id="-katewm_26"><li class="list__item" id="-katewm_37"><p id="-katewm_40"><span class="control" id="-katewm_41">Centralisation :</span> &Eacute;vite la duplication de code dans plusieurs contr&ocirc;leurs.</p></li><li class="list__item" id="-katewm_38"><p id="-katewm_42"><span class="control" id="-katewm_43">Transversalit&eacute; :</span> Applique des logiques communes &agrave; plusieurs points de l'application (contr&ocirc;leurs cibl&eacute;s).</p></li><li class="list__item" id="-katewm_39"><p id="-katewm_44"><span class="control" id="-katewm_45">Sp&eacute;cialisation :</span> Destin&eacute;e aux probl&eacute;matiques li&eacute;es aux contr&ocirc;leurs web.</p></li></ul><p id="-katewm_27">Ce chapitre se concentre sur l'utilisation de <code class="code" id="-katewm_46">@ControllerAdvice</code> pour la gestion des <span class="control" id="-katewm_47">attributs de mod&egrave;le globaux</span> et la <span class="control" id="-katewm_48">personnalisation du data binding</span>, en dehors de la gestion globale des exceptions (qui sera trait&eacute;e s&eacute;par&eacute;ment).</p></section><section class="chapter"><h3 id="2-cas-d-utilisation-1-ajout-d-attributs-globaux-au-mod-le-avec-modelattribute" data-toc="2-cas-d-utilisation-1-ajout-d-attributs-globaux-au-mod-le-avec-modelattribute">2. Cas d'Utilisation 1 : Ajout d'Attributs Globaux au Mod&egrave;le avec @ModelAttribute</h3><section class="chapter"><h4 id="2-1-probl-matique" data-toc="2-1-probl-matique">2.1. Probl&eacute;matique</h4><p id="-katewm_54">Souvent, plusieurs vues d'une application web n&eacute;cessitent l'affichage d'informations communes : nom de l'utilisateur connect&eacute;, version de l'application, &eacute;l&eacute;ments de menu dynamiques, etc. Sans m&eacute;canisme de centralisation, il faudrait ajouter manuellement ces informations au <code class="code" id="-katewm_55">Model</code> dans chaque m&eacute;thode de chaque <code class="code" id="-katewm_56">@Controller</code> concern&eacute;. C'est r&eacute;p&eacute;titif et source d'erreurs.</p></section><section class="chapter"><h4 id="2-2-solution-modelattribute-dans-un-controlleradvice" data-toc="2-2-solution-modelattribute-dans-un-controlleradvice">2.2. Solution : <code class="code" id="-katewm_59">@ModelAttribute</code> dans un <code class="code" id="-katewm_60">@ControllerAdvice</code></h4><p id="-katewm_58">Une m&eacute;thode annot&eacute;e avec <code class="code" id="-katewm_61">@ModelAttribute</code> au sein d'une classe <code class="code" id="-katewm_62">@ControllerAdvice</code> sera ex&eacute;cut&eacute;e <span class="emphasis" id="-katewm_63">avant</span> les m&eacute;thodes des contr&ocirc;leurs cibl&eacute;s (ceux d&eacute;finis par le scope du <code class="code" id="-katewm_64">@ControllerAdvice</code>, voir section 4). La valeur retourn&eacute;e par cette m&eacute;thode est automatiquement ajout&eacute;e au <code class="code" id="-katewm_65">Model</code> de Spring MVC, la rendant accessible dans la vue.</p></section><section class="chapter"><h4 id="2-3-exemple-de-code" data-toc="2-3-exemple-de-code">2.3. Exemple de Code</h4><p id="-katewm_66">Supposons que nous voulions afficher la version de l'application et l'ann&eacute;e courante sur toutes les pages.</p><p id="-katewm_67"><span class="control" id="-katewm_74">&Eacute;tape 1 : Cr&eacute;er la classe <code class="code" id="-katewm_75">@ControllerAdvice</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.advice;

import java.time.Year;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ModelAttribute;

// Déclare cette classe comme un conseil pour les contrôleurs
// Par défaut, s'applique à tous les @Controller
@ControllerAdvice(basePackages = &quot;fr.formation.spring.controllers&quot;) 
// Optionnel: Limite aux contrôleurs du package spécifié (voir section 4)
public class GlobalModelAttributesAdvice {

    // Injecte la version de l'application depuis application.properties
    @Value(&quot;${application.version:1.0.0}&quot;) // Fournit une valeur par défaut
    private String applicationVersion; 

    /**
     * Ajoute l'attribut 'appVersion' au modèle pour tous les contrôleurs ciblés.
     * Cette méthode est appelée avant l'exécution des méthodes @RequestMapping.
     * @return La version de l'application.
     */
    @ModelAttribute(&quot;appVersion&quot;) // Nom de l'attribut dans le modèle
    public String addAppVersionToModel() {
        return this.applicationVersion;
    }

    /**
     * Ajoute l'attribut 'currentYear' au modèle.
     * @return L'année courante.
     */
    @ModelAttribute(&quot;currentYear&quot;) // Nom de l'attribut dans le modèle
    public int addCurrentYearToModel() {
        return Year.now().getValue();
    }

    // On pourrait ajouter ici d'autres méthodes @ModelAttribute
    // pour des données globales (ex: menu de navigation, utilisateur connecté...)
}
</div><p id="-katewm_69"><span class="control" id="-katewm_76">&Eacute;tape 2 : Configurer la propri&eacute;t&eacute; dans <code class="code" id="-katewm_77">application.properties</code></span></p><div class="code-block" data-lang="properties">
# src/main/resources/application.properties
application.version=1.1.0-SNAPSHOT
</div><p id="-katewm_71"><span class="control" id="-katewm_78">&Eacute;tape 3 : Utiliser les attributs dans un contr&ocirc;leur et une vue</span></p><div class="code-block" data-lang="java">
package fr.formation.spring.controllers;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {

    @GetMapping(&quot;/&quot;)
    public String home(Model model) {
        // Pas besoin d'ajouter 'appVersion' ou 'currentYear' ici !
        // Ils sont ajoutés automatiquement par GlobalModelAttributesAdvice.
        model.addAttribute(&quot;pageTitle&quot;, &quot;Accueil&quot;);
        return &quot;home&quot;; // Nom de la vue (ex: home.html avec Thymeleaf)
    }
}
</div><div class="code-block" data-lang="markup">
&lt;!-- src/main/resources/templates/home.html (Exemple avec Thymeleaf) --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- Utilisation de l'attribut 'pageTitle' ajouté dans le contrôleur --&gt;
    &lt;title th:text=&quot;${pageTitle}&quot;&gt;Titre par défaut&lt;/title&gt; 
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Bienvenue sur notre Application&lt;/h1&gt;
    
    &lt;footer&gt;
        &lt;!-- Utilisation des attributs ajoutés par @ControllerAdvice --&gt;
        &lt;p&gt;
            Version: &lt;span th:text=&quot;${appVersion}&quot;&gt;?.?.?&lt;/span&gt; - 
            Année: &lt;span th:text=&quot;${currentYear}&quot;&gt;????&lt;/span&gt;
        &lt;/p&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</div></section><section class="chapter"><h4 id="2-4-conseils-et-bonnes-pratiques" data-toc="2-4-conseils-et-bonnes-pratiques">2.4. Conseils et Bonnes Pratiques</h4><ul class="list _bullet" id="-katewm_79"><li class="list__item" id="-katewm_80"><p id="-katewm_83"><span class="control" id="-katewm_84">Pertinence :</span> N'ajoutez que des attributs r&eacute;ellement globaux ou communs &agrave; un large ensemble de vues.</p></li><li class="list__item" id="-katewm_81"><p id="-katewm_85"><span class="control" id="-katewm_86">Performance :</span> Soyez conscient que ces m&eacute;thodes sont appel&eacute;es pour chaque requ&ecirc;te trait&eacute;e par les contr&ocirc;leurs cibl&eacute;s. &Eacute;vitez les calculs lourds ou les appels externes bloquants dans ces m&eacute;thodes. Si les donn&eacute;es changent peu, envisagez des m&eacute;canismes de mise en cache.</p></li><li class="list__item" id="-katewm_82"><p id="-katewm_87"><span class="control" id="-katewm_88">Nommage :</span> Choisissez des noms d'attributs clairs et &eacute;vitez les collisions avec les attributs ajout&eacute;s sp&eacute;cifiquement par les contr&ocirc;leurs.</p></li></ul></section><section class="chapter"><h4 id="2-5-exercice-pratique-1" data-toc="2-5-exercice-pratique-1">2.5. Exercice Pratique 1</h4><p id="-katewm_89"><span class="control" id="-katewm_99">&Eacute;nonc&eacute; :</span> Cr&eacute;ez une nouvelle classe <code class="code" id="-katewm_100">UserDataAdvice</code> annot&eacute;e avec <code class="code" id="-katewm_101">@ControllerAdvice</code>. Cette classe devra ajouter au mod&egrave;le un attribut nomm&eacute; <code class="code" id="-katewm_102">globalMessage</code> contenant la cha&icirc;ne de caract&egrave;res &quot;Bienvenue sur notre site !&quot;. V&eacute;rifiez ensuite dans une page HTML (utilisant Thymeleaf ou JSP) que ce message est bien accessible. Limitez ce conseil aux contr&ocirc;leurs du package <code class="code" id="-katewm_103">fr.formation.spring.controllers.user</code>.</p><p id="-katewm_90"><span class="control" id="-katewm_104">Correction :</span></p><p id="-katewm_91"><span class="control" id="-katewm_105">&Eacute;tape 1 : Cr&eacute;er le package et le contr&ocirc;leur utilisateur (si inexistant)</span></p><div class="code-block" data-lang="java">
// Créer le package fr.formation.spring.controllers.user

package fr.formation.spring.controllers.user;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
// Important: Ce contrôleur est dans le package ciblé
public class UserProfileController { 

    @GetMapping(&quot;/profile&quot;)
    public String userProfile() {
        // Le message 'globalMessage' sera ajouté par UserDataAdvice
        return &quot;user/profile&quot;; // Vue: templates/user/profile.html
    }
}
</div><p id="-katewm_93"><span class="control" id="-katewm_106">&Eacute;tape 2 : Cr&eacute;er la classe <code class="code" id="-katewm_107">UserDataAdvice</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.advice;

import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ModelAttribute;

// Cible uniquement les contrôleurs dans ce package spécifique
@ControllerAdvice(basePackages = &quot;fr.formation.spring.controllers.user&quot;) 
public class UserDataAdvice {

    /**
     * Ajoute un message de bienvenue global pour les sections utilisateur.
     * @return Le message de bienvenue.
     */
    @ModelAttribute(&quot;globalMessage&quot;) // Nom de l'attribut dans le modèle
    public String addGlobalMessage() {
        return &quot;Bienvenue sur notre site !&quot;;
    }
}
</div><p id="-katewm_95"><span class="control" id="-katewm_108">&Eacute;tape 3 : Cr&eacute;er la vue pour v&eacute;rifier</span></p><div class="code-block" data-lang="markup">
&lt;!-- src/main/resources/templates/user/profile.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Profil Utilisateur&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Affichage du message ajouté par UserDataAdvice --&gt;
    &lt;h2 th:text=&quot;${globalMessage}&quot;&gt;Message global ici&lt;/h2&gt;

    &lt;p&gt;Contenu spécifique au profil utilisateur...&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</div><p id="-katewm_97">En acc&eacute;dant &agrave; l'URL <code class="code" id="-katewm_109">/profile</code>, le message &quot;Bienvenue sur notre site !&quot; devrait s'afficher en haut de la page, prouvant que l' <code class="code" id="-katewm_110">UserDataAdvice</code> a bien fonctionn&eacute; et a &eacute;t&eacute; correctement scop&eacute;. Un contr&ocirc;leur en dehors du package <code class="code" id="-katewm_111">fr.formation.spring.controllers.user</code> n'aurait pas cet attribut <code class="code" id="-katewm_112">globalMessage</code> ajout&eacute; automatiquement.</p></section></section><section class="chapter"><h3 id="3-cas-d-utilisation-2-personnalisation-du-data-binding-avec-initbinder" data-toc="3-cas-d-utilisation-2-personnalisation-du-data-binding-avec-initbinder">3. Cas d'Utilisation 2 : Personnalisation du Data Binding avec @InitBinder</h3><section class="chapter"><h4 id="3-1-probl-matique" data-toc="3-1-probl-matique">3.1. Probl&eacute;matique</h4><p id="-katewm_118">Lors de la soumission de formulaires HTML, Spring MVC tente de convertir les cha&icirc;nes de caract&egrave;res re&ccedil;ues en types de donn&eacute;es Java appropri&eacute;s pour les objets de commandes (form backing objects). Parfois, le format par d&eacute;faut ne convient pas (ex: format de date sp&eacute;cifique <code class="code" id="-katewm_119">dd/MM/yyyy</code>), ou nous voulons appliquer une transformation syst&eacute;matique (ex: supprimer les espaces avant/apr&egrave;s les cha&icirc;nes de caract&egrave;res). Devoir configurer cela dans chaque contr&ocirc;leur serait redondant.</p></section><section class="chapter"><h4 id="3-2-solution-initbinder-dans-un-controlleradvice" data-toc="3-2-solution-initbinder-dans-un-controlleradvice">3.2. Solution : <code class="code" id="-katewm_122">@InitBinder</code> dans un <code class="code" id="-katewm_123">@ControllerAdvice</code></h4><p id="-katewm_121">Une m&eacute;thode annot&eacute;e avec <code class="code" id="-katewm_124">@InitBinder</code> au sein d'une classe <code class="code" id="-katewm_125">@ControllerAdvice</code> permet de personnaliser le processus de data binding pour les contr&ocirc;leurs cibl&eacute;s. Cette m&eacute;thode prend g&eacute;n&eacute;ralement un <code class="code" id="-katewm_126">WebDataBinder</code> en argument, sur lequel on peut enregistrer des &eacute;diteurs de propri&eacute;t&eacute;s personnalis&eacute;s (<code class="code" id="-katewm_127">PropertyEditor</code>) ou configurer d'autres aspects du binding.</p></section><section class="chapter"><h4 id="3-3-exemple-de-code" data-toc="3-3-exemple-de-code">3.3. Exemple de Code</h4><p id="-katewm_128">Supposons que nous ayons des formulaires o&ugrave; les dates doivent &ecirc;tre saisies au format <code class="code" id="-katewm_135">dd/MM/yyyy</code>.</p><p id="-katewm_129"><span class="control" id="-katewm_136">&Eacute;tape 1 : Cr&eacute;er la classe <code class="code" id="-katewm_137">@ControllerAdvice</code> avec <code class="code" id="-katewm_138">@InitBinder</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.advice;

import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.beans.propertyeditors.CustomDateEditor;
import org.springframework.web.bind.WebDataBinder;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.InitBinder;

// Applique ce conseil à tous les contrôleurs (par défaut)
@ControllerAdvice 
public class GlobalBindingAdvice {

    /**
     * Configure le data binder pour tous les contrôleurs ciblés.
     * Est appelé avant que le data binding ne soit effectué pour une requête.
     * @param binder Le WebDataBinder pour la requête courante.
     */
    @InitBinder
    public void initBinder(WebDataBinder binder) {
        // Définit le format de date attendu pour tous les champs de type Date
        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);
        dateFormat.setLenient(false); // Ne pas être tolérant aux dates invalides

        // Enregistre un éditeur personnalisé pour le type java.util.Date
        // Le deuxième argument 'true' signifie qu'une chaîne vide sera 
        // convertie en 'null'
        binder.registerCustomEditor(Date.class, 
                new CustomDateEditor(dateFormat, true));

        // On pourrait ajouter ici d'autres configurations globales du binder
        // binder.setDisallowedFields(&quot;id&quot;); // Interdire le binding du champ 'id'
    }
}
</div><p id="-katewm_131"><span class="control" id="-katewm_139">&Eacute;tape 2 : Utiliser dans un contr&ocirc;leur avec un formulaire</span></p><div class="code-block" data-lang="java">
package fr.formation.spring.controllers;

import fr.formation.spring.model.Event; // Supposons une classe Event
import javax.validation.Valid; // Pour la validation éventuelle
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;

@Controller
public class EventController {

    @GetMapping(&quot;/event/new&quot;)
    public String showEventForm(Model model) {
        model.addAttribute(&quot;event&quot;, new Event()); // Objet pour le formulaire
        return &quot;event-form&quot;; // Nom de la vue du formulaire
    }

    @PostMapping(&quot;/event/save&quot;)
    public String saveEvent(
            @Valid @ModelAttribute(&quot;event&quot;) Event event, 
            BindingResult bindingResult, 
            Model model) {
            
        // Grâce à GlobalBindingAdvice, si l'utilisateur saisit &quot;15/10/2024&quot;
        // dans le champ correspondant à event.eventDate (de type Date),
        // Spring saura le convertir correctement.
            
        if (bindingResult.hasErrors()) {
            // S'il y a des erreurs (validation ou binding), retourne au formulaire
            return &quot;event-form&quot;;
        }

        // Logique de sauvegarde de l'événement...
        System.out.println(&quot;Date de l'événement reçue : &quot; + event.getEventDate());

        return &quot;redirect:/&quot;; // Redirige après succès
    }
}
</div><div class="code-block" data-lang="java">
// fr/formation/spring/model/Event.java
package fr.formation.spring.model;

import java.util.Date;
import org.springframework.format.annotation.DateTimeFormat; // Utile pour l'affichage

public class Event {
    private String name;
    
    // Pas besoin d'annotation @DateTimeFormat ici pour la *réception* 
    // si @InitBinder est utilisé globalement.
    // @DateTimeFormat est plus utile pour le formatage à l'*affichage*.
    private Date eventDate; 

    // Getters and Setters...
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public Date getEventDate() { return eventDate; }
    public void setEventDate(Date eventDate) { this.eventDate = eventDate; }
}
</div><div class="code-block" data-lang="markup">
&lt;!-- src/main/resources/templates/event-form.html (Exemple avec Thymeleaf) --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Nouvel Événement&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Créer un événement&lt;/h1&gt;
    
    &lt;!-- Le tag 'th:object' lie le formulaire à l'objet 'event' du modèle --&gt;
    &lt;form action=&quot;#&quot; th:action=&quot;@{/event/save}&quot; th:object=&quot;${event}&quot; method=&quot;post&quot;&gt;
        &lt;div&gt;
            &lt;label for=&quot;name&quot;&gt;Nom:&lt;/label&gt;
            &lt;!-- Le tag 'th:field' génère les attributs name, id, value --&gt;
            &lt;input type=&quot;text&quot; id=&quot;name&quot; th:field=&quot;*{name}&quot; /&gt;
            &lt;!-- Affiche les erreurs de validation pour ce champ --&gt;
            &lt;span th:if=&quot;${#fields.hasErrors('name')}&quot; th:errors=&quot;*{name}&quot;&gt;&lt;/span&gt; 
        &lt;/div&gt;
        &lt;div&gt;
            &lt;label for=&quot;eventDate&quot;&gt;Date (jj/mm/aaaa):&lt;/label&gt;
            &lt;!-- Utilisation de th:field pour lier au champ Date --&gt;
            &lt;!-- Pour l'affichage initial, Spring utilisera le format par défaut ou
                 celui spécifié par @DateTimeFormat(pattern=&quot;...&quot;) sur le champ.
                 Pour la soumission, c'est @InitBinder qui prime. --&gt;
            &lt;input type=&quot;text&quot; id=&quot;eventDate&quot; 
                   th:field=&quot;*{eventDate}&quot; placeholder=&quot;dd/MM/yyyy&quot; /&gt;
            &lt;span th:if=&quot;${#fields.hasErrors('eventDate')}&quot; 
                  th:errors=&quot;*{eventDate}&quot;&gt;Erreur Date&lt;/span&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;button type=&quot;submit&quot;&gt;Enregistrer&lt;/button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</div></section><section class="chapter"><h4 id="3-4-conseils-et-bonnes-pratiques" data-toc="3-4-conseils-et-bonnes-pratiques">3.4. Conseils et Bonnes Pratiques</h4><ul class="list _bullet" id="-katewm_140"><li class="list__item" id="-katewm_141"><p id="-katewm_145"><span class="control" id="-katewm_146">Sp&eacute;cificit&eacute; :</span> <code class="code" id="-katewm_147">@InitBinder</code> dans un <code class="code" id="-katewm_148">@ControllerAdvice</code> est id&eacute;al pour les r&egrave;gles de binding <span class="emphasis" id="-katewm_149">vraiment</span> globales. Si une r&egrave;gle ne concerne qu'un seul contr&ocirc;leur ou un seul type d'objet, il est pr&eacute;f&eacute;rable de placer la m&eacute;thode <code class="code" id="-katewm_150">@InitBinder</code> directement dans le <code class="code" id="-katewm_151">@Controller</code> concern&eacute;.</p></li><li class="list__item" id="-katewm_142"><p id="-katewm_152"><span class="control" id="-katewm_153">&Eacute;diteurs Personnalis&eacute;s :</span> Pour des logiques de conversion complexes, vous pouvez cr&eacute;er vos propres classes impl&eacute;mentant <code class="code" id="-katewm_154">java.beans.PropertyEditorSupport</code>.</p></li><li class="list__item" id="-katewm_143"><p id="-katewm_155"><span class="control" id="-katewm_156">Validation vs Binding :</span> <code class="code" id="-katewm_157">@InitBinder</code> intervient <span class="emphasis" id="-katewm_158">avant</span> la validation (JSR 303/Bean Validation). Il pr&eacute;pare les donn&eacute;es pour qu'elles soient dans le bon type avant que les validateurs ne s'ex&eacute;cutent.</p></li><li class="list__item" id="-katewm_144"><p id="-katewm_159"><span class="control" id="-katewm_160">Attribut <code class="code" id="-katewm_163">value</code> de <code class="code" id="-katewm_164">@InitBinder</code>:</span> Vous pouvez sp&eacute;cifier les noms des attributs du mod&egrave;le auxquels l' <code class="code" id="-katewm_161">@InitBinder</code> doit s'appliquer : <code class="code" id="-katewm_162">@InitBinder(&quot;event&quot;)</code> limiterait l'initialisation aux objets de commande nomm&eacute;s &quot;event&quot;. C'est utile si diff&eacute;rentes configurations de binder sont n&eacute;cessaires pour diff&eacute;rents objets au sein des m&ecirc;mes contr&ocirc;leurs.</p></li></ul></section><section class="chapter"><h4 id="3-5-exercice-pratique-2" data-toc="3-5-exercice-pratique-2">3.5. Exercice Pratique 2</h4><p id="-katewm_165"><span class="control" id="-katewm_177">&Eacute;nonc&eacute; :</span> Cr&eacute;ez (ou modifiez) un <code class="code" id="-katewm_178">GlobalBindingAdvice</code> pour qu'il enregistre un <code class="code" id="-katewm_179">StringTrimmerEditor</code>. Cet &eacute;diteur, fourni par Spring, permet de supprimer les espaces superflus au d&eacute;but et &agrave; la fin des cha&icirc;nes de caract&egrave;res soumises via les formulaires, et de convertir une cha&icirc;ne compos&eacute;e uniquement d'espaces en <code class="code" id="-katewm_180">null</code>. Appliquez cet &eacute;diteur &agrave; tous les champs de type <code class="code" id="-katewm_181">String</code>. Testez avec un formulaire simple contenant un champ texte.</p><p id="-katewm_166"><span class="control" id="-katewm_182">Correction :</span></p><p id="-katewm_167"><span class="control" id="-katewm_183">&Eacute;tape 1 : Modifier/Cr&eacute;er <code class="code" id="-katewm_184">GlobalBindingAdvice</code></span></p><div class="code-block" data-lang="java">
package fr.formation.spring.advice;

import java.text.SimpleDateFormat;
import java.util.Date;
import org.springframework.beans.propertyeditors.CustomDateEditor;
import org.springframework.beans.propertyeditors.StringTrimmerEditor; // Importer l'éditeur
import org.springframework.web.bind.WebDataBinder;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.InitBinder;

@ControllerAdvice
public class GlobalBindingAdvice {

    @InitBinder
    public void initBinder(WebDataBinder binder) {
        // Configuration précédente pour les dates (peut coexister)
        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);
        dateFormat.setLenient(false);
        binder.registerCustomEditor(Date.class, 
                new CustomDateEditor(dateFormat, true));

        // **NOUVEAU : Enregistrer StringTrimmerEditor pour le type String**
        // Le constructeur prend un booléen: 
        // true = convertir les chaînes vides (&quot;&quot;) ou pleines d'espaces en null
        // false = convertir uniquement les chaînes pleines d'espaces en null, 
        //         laisser les chaînes vides comme &quot;&quot;
        binder.registerCustomEditor(String.class, new StringTrimmerEditor(true)); 
    }
}
</div><p id="-katewm_169"><span class="control" id="-katewm_185">&Eacute;tape 2 : Cr&eacute;er un formulaire et un contr&ocirc;leur de test</span></p><div class="code-block" data-lang="java">
// fr/formation/spring/model/FormData.java
package fr.formation.spring.model;

public class FormData {
    private String comment;

    // Getters and Setters...
    public String getComment() { return comment; }
    public void setComment(String comment) { this.comment = comment; }
}
</div><div class="code-block" data-lang="java">
// fr/formation/spring/controllers/FormTestController.java
package fr.formation.spring.controllers;

import fr.formation.spring.model.FormData;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;

@Controller
public class FormTestController {

    @GetMapping(&quot;/test-form&quot;)
    public String showTestForm(Model model) {
        model.addAttribute(&quot;formData&quot;, new FormData());
        return &quot;test-form&quot;; // Vue: templates/test-form.html
    }

    @PostMapping(&quot;/submit-form&quot;)
    public String submitTestForm(@ModelAttribute FormData formData, Model model) {
        // Grâce à StringTrimmerEditor(true) dans GlobalBindingAdvice:
        // Si l'utilisateur saisit &quot;   Bonjour   &quot;, formData.comment sera &quot;Bonjour&quot;
        // Si l'utilisateur saisit &quot;      &quot;, formData.comment sera null
        // Si l'utilisateur ne saisit rien &quot;&quot;, formData.comment sera null

        System.out.println(&quot;Commentaire reçu : [&quot; + formData.getComment() + &quot;]&quot;);
        model.addAttribute(&quot;submittedComment&quot;, formData.getComment());
        return &quot;form-result&quot;; // Vue: templates/form-result.html
    }
}
</div><p id="-katewm_172"><span class="control" id="-katewm_186">&Eacute;tape 3 : Cr&eacute;er les vues</span></p><div class="code-block" data-lang="markup">
&lt;!-- src/main/resources/templates/test-form.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;&lt;title&gt;Test Formulaire&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;#&quot; th:action=&quot;@{/submit-form}&quot; 
          th:object=&quot;${formData}&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;comment&quot;&gt;Commentaire:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;comment&quot; th:field=&quot;*{comment}&quot; /&gt;
        &lt;button type=&quot;submit&quot;&gt;Envoyer&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</div><div class="code-block" data-lang="markup">
&lt;!-- src/main/resources/templates/form-result.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;&lt;title&gt;Résultat&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Commentaire Soumis&lt;/h1&gt;
    &lt;!-- Affiche 'null' si la chaîne était vide ou composée d'espaces --&gt;
    &lt;p&gt;Valeur reçue après trim/conversion : 
       &lt;span th:text=&quot;${submittedComment}&quot;&gt;[valeur]&lt;/span&gt;
    &lt;/p&gt;
    &lt;a th:href=&quot;@{/test-form}&quot;&gt;Retour au formulaire&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</div><p id="-katewm_175">En testant le formulaire <code class="code" id="-katewm_187">/test-form</code> avec diff&eacute;rentes entr&eacute;es (espaces avant/apr&egrave;s, uniquement des espaces, vide), vous pourrez v&eacute;rifier dans la console ou sur la page <code class="code" id="-katewm_188">form-result</code> que le <code class="code" id="-katewm_189">StringTrimmerEditor</code> configur&eacute; via <code class="code" id="-katewm_190">@ControllerAdvice</code> a bien fonctionn&eacute;.</p></section></section><section class="chapter"><h3 id="4-cibler-les-contr-leurs-avec-controlleradvice" data-toc="4-cibler-les-contr-leurs-avec-controlleradvice">4. Cibler les Contr&ocirc;leurs avec @ControllerAdvice</h3><p id="-katewm_191">Par d&eacute;faut, une classe <code class="code" id="-katewm_197">@ControllerAdvice</code> s'applique &agrave; <span class="control" id="-katewm_198">tous</span> les contr&ocirc;leurs (<code class="code" id="-katewm_199">@Controller</code>) de l'application. Il est souvent n&eacute;cessaire de restreindre son p&eacute;rim&egrave;tre. L'annotation <code class="code" id="-katewm_200">@ControllerAdvice</code> fournit plusieurs attributs pour cela :</p><ol class="list _decimal" id="-katewm_192" type="1"><li class="list__item" id="-katewm_201"><p id="-katewm_205"><span class="control" id="-katewm_207"><code class="code" id="-katewm_209">basePackages</code></span> (ou son alias <code class="code" id="-katewm_208">value</code>) :</p><ul class="list _bullet" id="-katewm_206"><li class="list__item" id="-katewm_210"><p id="-katewm_213">Type : <code class="code" id="-katewm_214">String[]</code></p></li><li class="list__item" id="-katewm_211"><p id="-katewm_215">Usage : Sp&eacute;cifie les packages (et sous-packages) contenant les contr&ocirc;leurs &agrave; cibler.</p></li><li class="list__item" id="-katewm_212"><p id="-katewm_216">Exemple : <code class="code" id="-katewm_217">@ControllerAdvice(basePackages = &quot;fr.formation.spring.controllers.admin&quot;)</code></p></li></ul></li><li class="list__item" id="-katewm_202"><p id="-katewm_218"><span class="control" id="-katewm_220"><code class="code" id="-katewm_221">basePackageClasses</code></span>:</p><ul class="list _bullet" id="-katewm_219"><li class="list__item" id="-katewm_222"><p id="-katewm_225">Type : <code class="code" id="-katewm_226">Class&lt;?&gt;[]</code></p></li><li class="list__item" id="-katewm_223"><p id="-katewm_227">Usage : Sp&eacute;cifie des classes. Les packages de ces classes seront utilis&eacute;s comme <code class="code" id="-katewm_228">basePackages</code>. Utile pour &eacute;viter les cha&icirc;nes de caract&egrave;res &quot;en dur&quot;.</p></li><li class="list__item" id="-katewm_224"><p id="-katewm_229">Exemple : <code class="code" id="-katewm_230">@ControllerAdvice(basePackageClasses = AdminController.class)</code></p></li></ul></li><li class="list__item" id="-katewm_203"><p id="-katewm_231"><span class="control" id="-katewm_233"><code class="code" id="-katewm_234">assignableTypes</code></span>:</p><ul class="list _bullet" id="-katewm_232"><li class="list__item" id="-katewm_235"><p id="-katewm_238">Type : <code class="code" id="-katewm_239">Class&lt;?&gt;[]</code></p></li><li class="list__item" id="-katewm_236"><p id="-katewm_240">Usage : Cible les contr&ocirc;leurs qui sont assignables (h&eacute;ritent ou impl&eacute;mentent) aux types sp&eacute;cifi&eacute;s.</p></li><li class="list__item" id="-katewm_237"><p id="-katewm_241">Exemple : <code class="code" id="-katewm_242">@ControllerAdvice(assignableTypes = {ProductController.class, BaseUserController.class})</code></p></li></ul></li><li class="list__item" id="-katewm_204"><p id="-katewm_243"><span class="control" id="-katewm_245"><code class="code" id="-katewm_246">annotations</code></span>:</p><ul class="list _bullet" id="-katewm_244"><li class="list__item" id="-katewm_247"><p id="-katewm_250">Type : <code class="code" id="-katewm_251">Class&lt;? extends Annotation&gt;[]</code></p></li><li class="list__item" id="-katewm_248"><p id="-katewm_252">Usage : Cible les contr&ocirc;leurs qui sont annot&eacute;s avec les annotations sp&eacute;cifi&eacute;es. Pratique pour cr&eacute;er des groupes logiques de contr&ocirc;leurs.</p></li><li class="list__item" id="-katewm_249"><p id="-katewm_253">Exemple :</p><div class="code-block" data-lang="java">
// Définir une annotation marqueur
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
public @interface SecuredZone {}

// Appliquer l'annotation sur un contrôleur
@Controller
@SecuredZone
public class AdminAreaController { /* ... */ }

// Cibler les contrôleurs avec cette annotation
@ControllerAdvice(annotations = SecuredZone.class)
public class SecurityAdvice { /* ... @ModelAttribute, @InitBinder ... */ }
</div></li></ul></li></ol><p id="-katewm_193"><span class="control" id="-katewm_255">Combinaison :</span> On peut combiner ces attributs. Un contr&ocirc;leur est cibl&eacute; s'il correspond &agrave; <span class="emphasis" id="-katewm_256">au moins une</span> des conditions sp&eacute;cifi&eacute;es.</p><p id="-katewm_194"><span class="control" id="-katewm_257">Exemple Combin&eacute; :</span></p><div class="code-block" data-lang="java">
@ControllerAdvice(
    basePackages = &quot;fr.formation.spring.controllers.reporting&quot;, 
    annotations = InternalTool.class
)
public class ReportingAndInternalToolsAdvice {
    // Ce conseil s'appliquera aux contrôleurs:
    // 1. Situés dans le package 'fr.formation.spring.controllers.reporting' (et sous-packages)
    // OU
    // 2. Annotés avec @InternalTool (peu importe leur package)
}
</div></section><section class="chapter"><h3 id="5-conseils-et-bonnes-pratiques-g-n-rales-pour-controlleradvice-hors-exceptions" data-toc="5-conseils-et-bonnes-pratiques-g-n-rales-pour-controlleradvice-hors-exceptions">5. Conseils et Bonnes Pratiques G&eacute;n&eacute;rales pour @ControllerAdvice (hors exceptions)</h3><ul class="list _bullet" id="-katewm_258"><li class="list__item" id="-katewm_260"><p id="-katewm_266"><span class="control" id="-katewm_267">Principe de Responsabilit&eacute; Unique :</span> Une classe <code class="code" id="-katewm_268">@ControllerAdvice</code> devrait id&eacute;alement se concentrer sur un aspect transversal sp&eacute;cifique (ex: gestion des dates, ajout d'infos utilisateur). Si vous avez plusieurs aspects tr&egrave;s diff&eacute;rents, envisagez plusieurs classes <code class="code" id="-katewm_269">@ControllerAdvice</code>, &eacute;ventuellement avec des ciblages diff&eacute;rents.</p></li><li class="list__item" id="-katewm_261"><p id="-katewm_270"><span class="control" id="-katewm_271">Clart&eacute; du Ciblage :</span> Utilisez les attributs de ciblage (<code class="code" id="-katewm_272">basePackages</code>, <code class="code" id="-katewm_273">annotations</code>, etc.) pour limiter la port&eacute;e de vos conseils. Un conseil global appliqu&eacute; partout peut avoir des effets de bord inattendus. Le ciblage par annotation est souvent le plus flexible et le plus explicite.</p></li><li class="list__item" id="-katewm_262"><p id="-katewm_274"><span class="control" id="-katewm_275">&Eacute;viter la Logique M&eacute;tier :</span> Les classes <code class="code" id="-katewm_276">@ControllerAdvice</code> sont destin&eacute;es &agrave; des pr&eacute;occupations techniques transversales li&eacute;es &agrave; MVC (mod&egrave;le, binding). N'y placez pas de logique m&eacute;tier principale. Celle-ci appartient aux services.</p></li><li class="list__item" id="-katewm_263"><p id="-katewm_277"><span class="control" id="-katewm_278">Documentation :</span> Commentez vos classes <code class="code" id="-katewm_279">@ControllerAdvice</code> pour expliquer clairement ce qu'elles font et quels contr&ocirc;leurs elles ciblent.</p></li><li class="list__item" id="-katewm_264"><p id="-katewm_280"><span class="control" id="-katewm_281">Tests :</span> Testez vos <code class="code" id="-katewm_282">@ControllerAdvice</code>, notamment les m&eacute;thodes <code class="code" id="-katewm_283">@InitBinder</code> qui peuvent &ecirc;tre sensibles. Les tests d'int&eacute;gration avec MockMvc sont appropri&eacute;s pour v&eacute;rifier que les attributs sont bien ajout&eacute;s au mod&egrave;le ou que le binding fonctionne comme pr&eacute;vu.</p></li><li class="list__item" id="-katewm_265"><p id="-katewm_284"><span class="control" id="-katewm_285">Performance :</span> Soyez conscient de l'impact potentiel sur les performances, surtout pour les m&eacute;thodes <code class="code" id="-katewm_286">@ModelAttribute</code> ex&eacute;cut&eacute;es &agrave; chaque requ&ecirc;te. Utilisez-les judicieusement.</p></li></ul></section><section class="chapter"><h3 id="6-cas-d-utilisation-r-capitulatifs-hors-exceptions" data-toc="6-cas-d-utilisation-r-capitulatifs-hors-exceptions">6. Cas d'Utilisation R&eacute;capitulatifs (hors exceptions)</h3><p id="-katewm_287">Voici quelques sc&eacute;narios typiques o&ugrave; <code class="code" id="-katewm_290">@ControllerAdvice</code> (avec <code class="code" id="-katewm_291">@ModelAttribute</code> et <code class="code" id="-katewm_292">@InitBinder</code>) est particuli&egrave;rement utile dans une application web Spring MVC :</p><ul class="list _bullet" id="-katewm_288"><li class="list__item" id="-katewm_293"><p id="-katewm_299"><span class="control" id="-katewm_300">Ajouter des informations utilisateur :</span> Mettre le nom/pr&eacute;nom de l'utilisateur connect&eacute; dans le mod&egrave;le pour l'afficher dans l'en-t&ecirc;te de toutes les pages.</p></li><li class="list__item" id="-katewm_294"><p id="-katewm_301"><span class="control" id="-katewm_302">Ajouter des m&eacute;tadonn&eacute;es de l'application :</span> Version, environnement (dev/prod), nom de l'application.</p></li><li class="list__item" id="-katewm_295"><p id="-katewm_303"><span class="control" id="-katewm_304">Fournir des listes communes :</span> Remplir des listes d&eacute;roulantes communes &agrave; plusieurs formulaires (ex: liste de pays, de cat&eacute;gories).</p></li><li class="list__item" id="-katewm_296"><p id="-katewm_305"><span class="control" id="-katewm_306">Formatage de date global :</span> Assurer que toutes les dates saisies dans les formulaires respectent un format unique.</p></li><li class="list__item" id="-katewm_297"><p id="-katewm_307"><span class="control" id="-katewm_308">Nettoyage des entr&eacute;es String :</span> Appliquer un <code class="code" id="-katewm_309">trim()</code> syst&eacute;matique sur toutes les cha&icirc;nes issues des formulaires.</p></li><li class="list__item" id="-katewm_298"><p id="-katewm_310"><span class="control" id="-katewm_311">Configuration de binder sp&eacute;cifique :</span> Interdire le binding de certains champs sensibles (<code class="code" id="-katewm_312">id</code>, <code class="code" id="-katewm_313">password</code>) globalement ou pour un groupe de contr&ocirc;leurs.</p></li></ul></section><section class="chapter"><h3 id="7-conclusion" data-toc="7-conclusion">7. Conclusion</h3><p id="-katewm_314">L'annotation <code class="code" id="-katewm_316">@ControllerAdvice</code> est un outil puissant dans l'&eacute;cosyst&egrave;me Spring Boot MVC pour g&eacute;rer les pr&eacute;occupations transversales li&eacute;es aux contr&ocirc;leurs web. En utilisant judicieusement les m&eacute;thodes <code class="code" id="-katewm_317">@ModelAttribute</code> et <code class="code" id="-katewm_318">@InitBinder</code> au sein de classes <code class="code" id="-katewm_319">@ControllerAdvice</code> bien cibl&eacute;es, il est possible de r&eacute;duire consid&eacute;rablement la duplication de code, d'am&eacute;liorer la maintenabilit&eacute; et de centraliser la configuration du comportement des contr&ocirc;leurs pour des aspects comme l'enrichissement du mod&egrave;le et la personnalisation du data binding. Ma&icirc;triser <code class="code" id="-katewm_320">@ControllerAdvice</code> est une &eacute;tape importante pour &eacute;crire des applications web Spring Boot propres et efficaces. Le prochain chapitre abordera son utilisation pour la gestion globale des exceptions.</p></section></section><div class="last-modified">Last modified: 11 mai 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="030-00-la-gestion-evenementielle.html" class="navigation-links__prev">La gestion &eacute;v&eacute;nementielle</a><a href="040-00-la-gestion-des-exceptions.html" class="navigation-links__next">La gestion des exceptions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.js"></script></body></html>