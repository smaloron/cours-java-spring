<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF" data-resizable-sidebar="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-05-12T14:49:32.004129"><title>Exercices-thymeleaf | Spring</title><script type="application/json" id="virtual-toc-data">[{"id":"exercice-1-afficher-un-message-simple","level":0,"title":"Exercice 1 : Afficher un message simple","anchor":"#exercice-1-afficher-un-message-simple"},{"id":"exercice-2-afficher-les-propri-t-s-d-un-objet","level":0,"title":"Exercice 2 : Afficher les propriétés d\u0027un objet","anchor":"#exercice-2-afficher-les-propri-t-s-d-un-objet"},{"id":"exercice-3-it-rer-sur-une-liste-de-cha-nes","level":0,"title":"Exercice 3 : Itérer sur une liste de chaînes","anchor":"#exercice-3-it-rer-sur-une-liste-de-cha-nes"},{"id":"exercice-4-it-rer-sur-une-liste-d-objets-dans-un-tableau","level":0,"title":"Exercice 4 : Itérer sur une liste d\u0027objets dans un tableau","anchor":"#exercice-4-it-rer-sur-une-liste-d-objets-dans-un-tableau"},{"id":"exercice-5-affichage-conditionnel-avec-th-if","level":0,"title":"Exercice 5 : Affichage conditionnel avec th:if","anchor":"#exercice-5-affichage-conditionnel-avec-th-if"},{"id":"exercice-6-utilisation-des-url-avec-th-href-et","level":0,"title":"Exercice 6 : Utilisation des URL avec th:href et @{...}","anchor":"#exercice-6-utilisation-des-url-avec-th-href-et"},{"id":"exercice-7-formulaire-simple-avec-th-object-et-th-field","level":0,"title":"Exercice 7 : Formulaire simple avec th:object et th:field","anchor":"#exercice-7-formulaire-simple-avec-th-object-et-th-field"},{"id":"exercice-8-utilisation-des-fragments-thymeleaf-th-insert-ou-th-replace","level":0,"title":"Exercice 8 : Utilisation des fragments Thymeleaf (th:insert ou th:replace)","anchor":"#exercice-8-utilisation-des-fragments-thymeleaf-th-insert-ou-th-replace"},{"id":"exercice-9-utilisation-des-objets-utilitaires-numbers-strings-dates","level":0,"title":"Exercice 9 : Utilisation des objets utilitaires (#numbers, #strings, #dates)","anchor":"#exercice-9-utilisation-des-objets-utilitaires-numbers-strings-dates"},{"id":"exercice-10-affichage-conditionnel-avec-th-switch-th-case","level":0,"title":"Exercice 10 : Affichage conditionnel avec th:switch / th:case","anchor":"#exercice-10-affichage-conditionnel-avec-th-switch-th-case"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Exercices-thymeleaf | Spring"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Spring Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/002-002-exercices-thymeleaf.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Exercices-thymeleaf | Spring"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/002-002-exercices-thymeleaf.html#webpage",
    "url": "writerside-documentation/002-002-exercices-thymeleaf.html",
    "name": "Exercices-thymeleaf | Spring",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Spring Help"
}</script><!-- End Schema.org --></head><body data-id="002-002-Exercices-thymeleaf" data-main-title="Exercices-thymeleaf" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="002-00-ThymeLeaf.md|Thymeleaf"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Spring  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="002-002-Exercices-thymeleaf" id="002-002-Exercices-thymeleaf.md">Exercices-thymeleaf</h1><section class="chapter"><h2 id="exercice-1-afficher-un-message-simple" data-toc="exercice-1-afficher-un-message-simple">Exercice 1 : Afficher un message simple</h2><ul class="list _bullet" id="-vkyai3_13"><li class="list__item" id="-vkyai3_15"><p id="-vkyai3_19"><span class="control" id="-vkyai3_20">Objectif :</span> Afficher une simple cha&icirc;ne de caract&egrave;res pass&eacute;e par le contr&ocirc;leur.</p></li><li class="list__item" id="-vkyai3_16"><p id="-vkyai3_21"><span class="control" id="-vkyai3_22">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_23">th:text</code>, expression de variable <code class="code" id="-vkyai3_24">${...}</code></p></li><li class="list__item" id="-vkyai3_17"><p id="-vkyai3_25"><span class="control" id="-vkyai3_27">Contr&ocirc;leur (<code class="code" id="-vkyai3_28">MessageController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class MessageController {

    @GetMapping(&quot;/message&quot;)
    public String showMessage(Model model) {
        String welcomeMessage = &quot;Bienvenue sur notre site !&quot;;
        model.addAttribute(&quot;message&quot;, welcomeMessage);
        return &quot;message-view&quot;; // Nom du template HTML
    }
}
</div></li><li class="list__item" id="-vkyai3_18"><p id="-vkyai3_29"><span class="control" id="-vkyai3_31">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_32">src/main/resources/templates/message-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_30"><li class="list__item" id="-vkyai3_33"><p id="-vkyai3_34">Cr&eacute;e un paragraphe <code class="code" id="-vkyai3_35">&lt;p&gt;</code> qui affiche la valeur de l'attribut <code class="code" id="-vkyai3_36">message</code> du mod&egrave;le.</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-message-view-html" data-toc="correction-message-view-html">Correction (<code class="code" id="-vkyai3_40">message-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Message Simple&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Message d'accueil&lt;/h1&gt;
        &lt;p th:text=&quot;${message}&quot;&gt;Message par défaut qui sera remplacé.&lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-2-afficher-les-propri-t-s-d-un-objet" data-toc="exercice-2-afficher-les-propri-t-s-d-un-objet">Exercice 2 : Afficher les propri&eacute;t&eacute;s d'un objet</h2><ul class="list _bullet" id="-vkyai3_41"><li class="list__item" id="-vkyai3_43"><p id="-vkyai3_48"><span class="control" id="-vkyai3_49">Objectif :</span> Afficher les diff&eacute;rentes propri&eacute;t&eacute;s d'un objet Java.</p></li><li class="list__item" id="-vkyai3_44"><p id="-vkyai3_50"><span class="control" id="-vkyai3_51">Concepts Thymeleaf :</span> Acc&egrave;s aux propri&eacute;t&eacute;s d'objet <code class="code" id="-vkyai3_52">${objet.propriete}</code></p></li><li class="list__item" id="-vkyai3_45"><p id="-vkyai3_53"><span class="control" id="-vkyai3_55">Classe Pojo (<code class="code" id="-vkyai3_56">User.java</code>) :</span></p><div class="code-block" data-lang="java">
// Créez cette classe simple
public class User {
    private Long id;
    private String username;
    private String email;
    private boolean active;

    // Constructeur, Getters et Setters (générés ou écrits)
    public User(Long id, String username, String email, boolean active) {
        this.id = id;
        this.username = username;
        this.email = email;
        this.active = active;
    }

    // --- Getters ---
    public Long getId() { return id; }
    public String getUsername() { return username; }
    public String getEmail() { return email; }
    public boolean isActive() { return active; }
    // --- Setters (optionnels pour cet exo) ---
}
</div></li><li class="list__item" id="-vkyai3_46"><p id="-vkyai3_57"><span class="control" id="-vkyai3_59">Contr&ocirc;leur (<code class="code" id="-vkyai3_60">UserController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
// Assurez-vous d'importer ou de définir la classe User ci-dessus

@Controller
public class UserController {

    @GetMapping(&quot;/user-details&quot;)
    public String showUserDetails(Model model) {
        User user = new User(1L, &quot;jdupont&quot;, &quot;j.dupont@email.com&quot;, true);
        model.addAttribute(&quot;userDetails&quot;, user);
        return &quot;user-details-view&quot;; // Nom du template HTML
    }
}
</div></li><li class="list__item" id="-vkyai3_47"><p id="-vkyai3_61"><span class="control" id="-vkyai3_63">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_64">src/main/resources/templates/user-details-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_62"><li class="list__item" id="-vkyai3_65"><p id="-vkyai3_66">Affiche l'ID, le nom d'utilisateur et l'email de l'utilisateur dans des paragraphes s&eacute;par&eacute;s.</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-user-details-view-html" data-toc="correction-user-details-view-html">Correction (<code class="code" id="-vkyai3_70">user-details-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Détails Utilisateur&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Détails de l'utilisateur&lt;/h1&gt;
        &lt;p&gt;ID: &lt;span th:text=&quot;${userDetails.id}&quot;&gt;0&lt;/span&gt;&lt;/p&gt;
        &lt;p&gt;Nom d'utilisateur: &lt;span th:text=&quot;${userDetails.username}&quot;&gt;username&lt;/span&gt;&lt;/p&gt;
        &lt;p&gt;Email: &lt;span th:text=&quot;${userDetails.email}&quot;&gt;email@example.com&lt;/span&gt;&lt;/p&gt;
        &lt;!-- Bonus: Afficher le statut (actif/inactif) --&gt;
        &lt;p&gt;Statut: &lt;span th:text=&quot;${userDetails.active ? 'Actif' : 'Inactif'}&quot;&gt;statut&lt;/span&gt;&lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-3-it-rer-sur-une-liste-de-cha-nes" data-toc="exercice-3-it-rer-sur-une-liste-de-cha-nes">Exercice 3 : It&eacute;rer sur une liste de cha&icirc;nes</h2><ul class="list _bullet" id="-vkyai3_71"><li class="list__item" id="-vkyai3_73"><p id="-vkyai3_77"><span class="control" id="-vkyai3_78">Objectif :</span> Afficher les &eacute;l&eacute;ments d'une liste de cha&icirc;nes de caract&egrave;res.</p></li><li class="list__item" id="-vkyai3_74"><p id="-vkyai3_79"><span class="control" id="-vkyai3_80">Concepts Thymeleaf :</span> It&eacute;ration <code class="code" id="-vkyai3_81">th:each</code></p></li><li class="list__item" id="-vkyai3_75"><p id="-vkyai3_82"><span class="control" id="-vkyai3_84">Contr&ocirc;leur (<code class="code" id="-vkyai3_85">ListController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import java.util.Arrays;
import java.util.List;

@Controller
public class ListController {

    @GetMapping(&quot;/items&quot;)
    public String showItems(Model model) {
        List&lt;String&gt; items = Arrays.asList(&quot;Pomme&quot;, &quot;Banane&quot;, &quot;Orange&quot;, &quot;Fraise&quot;);
        model.addAttribute(&quot;itemList&quot;, items);
        return &quot;items-view&quot;; // Nom du template HTML
    }
}
</div></li><li class="list__item" id="-vkyai3_76"><p id="-vkyai3_86"><span class="control" id="-vkyai3_88">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_89">src/main/resources/templates/items-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_87"><li class="list__item" id="-vkyai3_90"><p id="-vkyai3_91">Cr&eacute;e une liste non ordonn&eacute;e (<code class="code" id="-vkyai3_92">&lt;ul&gt;</code>) o&ugrave; chaque &eacute;l&eacute;ment (<code class="code" id="-vkyai3_93">&lt;li&gt;</code>) affiche un item de <code class="code" id="-vkyai3_94">itemList</code>.</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-items-view-html" data-toc="correction-items-view-html">Correction (<code class="code" id="-vkyai3_98">items-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Liste d'Items&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Liste des Items&lt;/h1&gt;
        &lt;ul&gt;
            &lt;li th:each=&quot;item : ${itemList}&quot; th:text=&quot;${item}&quot;&gt;Item par défaut&lt;/li&gt;
        &lt;/ul&gt;
        &lt;!-- Alternative si la liste est vide --&gt;
         &lt;p th:if=&quot;${#lists.isEmpty(itemList)}&quot;&gt;Aucun item à afficher.&lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-4-it-rer-sur-une-liste-d-objets-dans-un-tableau" data-toc="exercice-4-it-rer-sur-une-liste-d-objets-dans-un-tableau">Exercice 4 : It&eacute;rer sur une liste d'objets dans un tableau</h2><ul class="list _bullet" id="-vkyai3_99"><li class="list__item" id="-vkyai3_101"><p id="-vkyai3_106"><span class="control" id="-vkyai3_107">Objectif :</span> Afficher une liste d'objets complexes dans un tableau HTML.</p></li><li class="list__item" id="-vkyai3_102"><p id="-vkyai3_108"><span class="control" id="-vkyai3_109">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_110">th:each</code>, acc&egrave;s aux propri&eacute;t&eacute;s dans une boucle.</p></li><li class="list__item" id="-vkyai3_103"><p id="-vkyai3_111"><span class="control" id="-vkyai3_113">Classe Pojo (<code class="code" id="-vkyai3_114">Product.java</code>) :</span></p><div class="code-block" data-lang="java">
// Créez cette classe simple
public class Product {
    private String name;
    private double price;
    private int stock;

    // Constructeur, Getters et Setters
    public Product(String name, double price, int stock) {
        this.name = name;
        this.price = price;
        this.stock = stock;
    }
    // --- Getters ---
    public String getName() { return name; }
    public double getPrice() { return price; }
    public int getStock() { return stock; }
    // --- Setters (optionnels pour cet exo) ---
}
</div></li><li class="list__item" id="-vkyai3_104"><p id="-vkyai3_115"><span class="control" id="-vkyai3_117">Contr&ocirc;leur (<code class="code" id="-vkyai3_118">ProductController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import java.util.Arrays;
import java.util.List;
// Assurez-vous d'importer ou de définir la classe Product ci-dessus

@Controller
public class ProductController {

    @GetMapping(&quot;/products&quot;)
    public String showProducts(Model model) {
        List&lt;Product&gt; products = Arrays.asList(
            new Product(&quot;Ordinateur portable&quot;, 1200.50, 15),
            new Product(&quot;Souris sans fil&quot;, 25.99, 50),
            new Product(&quot;Clavier mécanique&quot;, 89.90, 30)
        );
        model.addAttribute(&quot;productList&quot;, products);
        return &quot;products-view&quot;; // Nom du template HTML
    }
}
</div></li><li class="list__item" id="-vkyai3_105"><p id="-vkyai3_119"><span class="control" id="-vkyai3_121">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_122">src/main/resources/templates/products-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_120"><li class="list__item" id="-vkyai3_123"><p id="-vkyai3_125">Cr&eacute;e un tableau HTML (<code class="code" id="-vkyai3_126">&lt;table&gt;</code>) avec un en-t&ecirc;te (Nom, Prix, Stock).</p></li><li class="list__item" id="-vkyai3_124"><p id="-vkyai3_127">Pour chaque produit dans <code class="code" id="-vkyai3_128">productList</code>, ajoute une ligne (<code class="code" id="-vkyai3_129">&lt;tr&gt;</code>) avec les cellules (<code class="code" id="-vkyai3_130">&lt;td&gt;</code>) correspondantes affichant le nom, le prix et le stock.</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-products-view-html" data-toc="correction-products-view-html">Correction (<code class="code" id="-vkyai3_135">products-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Liste des Produits&lt;/title&gt;
        &lt;style&gt;
            table, th, td { border: 1px solid black; border-collapse: collapse; padding: 5px;}
            th { background-color: #f2f2f2; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Liste des Produits&lt;/h1&gt;
        &lt;table th:if=&quot;${not #lists.isEmpty(productList)}&quot;&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;Nom&lt;/th&gt;
                    &lt;th&gt;Prix (€)&lt;/th&gt;
                    &lt;th&gt;Stock&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                &lt;tr th:each=&quot;product : ${productList}&quot;&gt;
                    &lt;td th:text=&quot;${product.name}&quot;&gt;Nom produit&lt;/td&gt;
                    &lt;td th:text=&quot;${#numbers.formatDecimal(product.price, 1, 2, 'COMMA')}&quot;&gt;0.00&lt;/td&gt;
                    &lt;td th:text=&quot;${product.stock}&quot;&gt;0&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;p th:if=&quot;${#lists.isEmpty(productList)}&quot;&gt;Aucun produit à afficher.&lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div><p id="-vkyai3_133"><span class="emphasis" id="-vkyai3_136">Note :</span> Utilisation de <code class="code" id="-vkyai3_137">#numbers.formatDecimal</code> pour un formatage simple du prix.</p></div></div></section></section><section class="chapter"><h2 id="exercice-5-affichage-conditionnel-avec-th-if" data-toc="exercice-5-affichage-conditionnel-avec-th-if">Exercice 5 : Affichage conditionnel avec <code class="code" id="-vkyai3_141">th:if</code></h2><ul class="list _bullet" id="-vkyai3_139"><li class="list__item" id="-vkyai3_142"><p id="-vkyai3_146"><span class="control" id="-vkyai3_147">Objectif :</span> Afficher un &eacute;l&eacute;ment HTML uniquement si une condition est vraie.</p></li><li class="list__item" id="-vkyai3_143"><p id="-vkyai3_148"><span class="control" id="-vkyai3_149">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_150">th:if</code></p></li><li class="list__item" id="-vkyai3_144"><p id="-vkyai3_151"><span class="control" id="-vkyai3_154">Contr&ocirc;leur (<code class="code" id="-vkyai3_155">ConditionalController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
// Assurez-vous d'importer ou de définir la classe User (Exercice 2)

@Controller
public class ConditionalController {

    @GetMapping(&quot;/profile&quot;)
    public String showProfile(Model model, @RequestParam(required = false) boolean admin) {
        User user = new User(2L, &quot;adminUser&quot;, &quot;admin@test.com&quot;, true);
        model.addAttribute(&quot;userProfile&quot;, user);
        model.addAttribute(&quot;isAdmin&quot;, admin); // Ajoute le flag admin
        return &quot;profile-view&quot;; // Nom du template HTML
    }
}
</div><p id="-vkyai3_153"><span class="emphasis" id="-vkyai3_156">Acc&eacute;dez via <code class="code" id="-vkyai3_157">/profile?admin=true</code> ou <code class="code" id="-vkyai3_158">/profile</code> (admin sera false).</span></p></li><li class="list__item" id="-vkyai3_145"><p id="-vkyai3_159"><span class="control" id="-vkyai3_161">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_162">src/main/resources/templates/profile-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_160"><li class="list__item" id="-vkyai3_163"><p id="-vkyai3_165">Affiche les informations de base de <code class="code" id="-vkyai3_166">userProfile</code>.</p></li><li class="list__item" id="-vkyai3_164"><p id="-vkyai3_167">Ajoute un bouton ou un lien &quot;Panneau d'administration&quot; qui ne s'affiche <span class="emphasis" id="-vkyai3_168">que si</span> l'attribut <code class="code" id="-vkyai3_169">isAdmin</code> est vrai (<code class="code" id="-vkyai3_170">true</code>).</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-profile-view-html" data-toc="correction-profile-view-html">Correction (<code class="code" id="-vkyai3_175">profile-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Profil Utilisateur&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Profil Utilisateur&lt;/h1&gt;
        &lt;p&gt;Nom d'utilisateur: &lt;span th:text=&quot;${userProfile.username}&quot;&gt;username&lt;/span&gt;&lt;/p&gt;
        &lt;p&gt;Email: &lt;span th:text=&quot;${userProfile.email}&quot;&gt;email@example.com&lt;/span&gt;&lt;/p&gt;

        &lt;!-- Section conditionnelle --&gt;
        &lt;div th:if=&quot;${isAdmin}&quot;&gt;
            &lt;hr&gt;
            &lt;h2&gt;Section Admin&lt;/h2&gt;
            &lt;p&gt;Vous avez les droits administrateur.&lt;/p&gt;
            &lt;button&gt;Accéder au Panneau d'administration&lt;/button&gt;
        &lt;/div&gt;

        &lt;p th:unless=&quot;${isAdmin}&quot;&gt;Vous n'êtes pas administrateur.&lt;/p&gt;

    &lt;/body&gt;
    &lt;/html&gt;
</div><p id="-vkyai3_173"><span class="emphasis" id="-vkyai3_176">Note :</span> Ajout de <code class="code" id="-vkyai3_177">th:unless</code> pour montrer l'alternative.</p></div></div></section></section><section class="chapter"><h2 id="exercice-6-utilisation-des-url-avec-th-href-et" data-toc="exercice-6-utilisation-des-url-avec-th-href-et">Exercice 6 : Utilisation des URL avec <code class="code" id="-vkyai3_181">th:href</code> et <code class="code" id="-vkyai3_182">@{...}</code></h2><ul class="list _bullet" id="-vkyai3_179"><li class="list__item" id="-vkyai3_183"><p id="-vkyai3_187"><span class="control" id="-vkyai3_188">Objectif :</span> Cr&eacute;er des liens dynamiques en utilisant les expressions d'URL Thymeleaf.</p></li><li class="list__item" id="-vkyai3_184"><p id="-vkyai3_189"><span class="control" id="-vkyai3_190">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_191">th:href</code>, syntaxe <code class="code" id="-vkyai3_192">@{...}</code>, variables de chemin.</p></li><li class="list__item" id="-vkyai3_185"><p id="-vkyai3_193"><span class="control" id="-vkyai3_195">Contr&ocirc;leur (<code class="code" id="-vkyai3_196">LinkController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable; // Important
import java.util.Arrays;
import java.util.List;
// Assurez-vous d'importer ou de définir la classe Product (Exercice 4)

@Controller
public class LinkController {

    @GetMapping(&quot;/product-list&quot;)
    public String showProductListLinks(Model model) {
         List&lt;Product&gt; products = Arrays.asList(
            new Product(&quot;P101&quot;, 10.0, 5), // Utilisons des IDs simples comme nom pour cet exemple
            new Product(&quot;P102&quot;, 20.0, 10),
            new Product(&quot;P103&quot;, 30.0, 15)
        );
        model.addAttribute(&quot;products&quot;, products);
        return &quot;product-list-links&quot;; // Nom du template HTML
    }

    // Contrôleur pour la page de détail (juste pour que le lien fonctionne)
    @GetMapping(&quot;/product/{productId}&quot;)
    public String showProductDetail(@PathVariable String productId, Model model) {
        model.addAttribute(&quot;productId&quot;, productId);
        // Dans une vraie appli, on chercherait le produit par ID
        return &quot;product-detail-placeholder&quot;; // Vue simple pour montrer que ça marche
    }
}
</div></li><li class="list__item" id="-vkyai3_186"><p id="-vkyai3_197"><span class="control" id="-vkyai3_199">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_200">src/main/resources/templates/product-list-links.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_198"><li class="list__item" id="-vkyai3_201"><p id="-vkyai3_204">Affiche une liste de produits.</p></li><li class="list__item" id="-vkyai3_202"><p id="-vkyai3_205">Pour chaque produit, cr&eacute;e un lien (<code class="code" id="-vkyai3_206">&lt;a&gt;</code>) qui pointe vers <code class="code" id="-vkyai3_207">/product/{productId}</code> o&ugrave; <code class="code" id="-vkyai3_208">{productId}</code> est le nom (utilis&eacute; comme ID ici) du produit.</p></li><li class="list__item" id="-vkyai3_203"><p id="-vkyai3_209">Cr&eacute;e &eacute;galement un lien statique vers la page d'accueil (<code class="code" id="-vkyai3_210">/</code>).</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-product-list-links-html" data-toc="correction-product-list-links-html">Correction (<code class="code" id="-vkyai3_216">product-list-links.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Liens Produits&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Liste des Produits (avec liens)&lt;/h1&gt;
        &lt;ul&gt;
            &lt;li th:each=&quot;prod : ${products}&quot;&gt;
                &lt;a th:href=&quot;@{/product/{id}(id=${prod.name})}&quot; th:text=&quot;${'Détails du produit ' + prod.name}&quot;&gt;
                    Lien Produit
                &lt;/a&gt;
                 &lt;!-- Alternative: Concaténation directe --&gt;
                 &lt;!-- &lt;a th:href=&quot;@{'/product/' + ${prod.name}}&quot; th:text=&quot;${'Détails du produit ' + prod.name}&quot;&gt;Lien Produit&lt;/a&gt; --&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
        &lt;hr&gt;
        &lt;a th:href=&quot;@{/}&quot;&gt;Retour à l'accueil&lt;/a&gt; &lt;br/&gt;
        &lt;a th:href=&quot;@{/items}&quot;&gt;Voir la liste des items (Exo 3)&lt;/a&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div><ul class="list _bullet" id="-vkyai3_213"><li class="list__item" id="-vkyai3_217"><p id="-vkyai3_218"><span class="control" id="-vkyai3_219">Template pour la page de d&eacute;tail (<code class="code" id="-vkyai3_220">src/main/resources/templates/product-detail-placeholder.html</code>) :</span></p></li></ul><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;Détail Produit&lt;/title&gt;&lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Détail du Produit&lt;/h1&gt;
        &lt;p&gt;Affichage des détails pour le produit ID: &lt;strong th:text=&quot;${productId}&quot;&gt;ID&lt;/strong&gt;&lt;/p&gt;
        &lt;a th:href=&quot;@{/product-list}&quot;&gt;Retour à la liste&lt;/a&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-7-formulaire-simple-avec-th-object-et-th-field" data-toc="exercice-7-formulaire-simple-avec-th-object-et-th-field">Exercice 7 : Formulaire simple avec <code class="code" id="-vkyai3_224">th:object</code> et <code class="code" id="-vkyai3_225">th:field</code></h2><ul class="list _bullet" id="-vkyai3_222"><li class="list__item" id="-vkyai3_226"><p id="-vkyai3_231"><span class="control" id="-vkyai3_232">Objectif :</span> Cr&eacute;er un formulaire HTML li&eacute; &agrave; un objet Java pour la soumission de donn&eacute;es.</p></li><li class="list__item" id="-vkyai3_227"><p id="-vkyai3_233"><span class="control" id="-vkyai3_234">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_235">th:object</code>, <code class="code" id="-vkyai3_236">th:field</code>, <code class="code" id="-vkyai3_237">th:action</code>, <code class="code" id="-vkyai3_238">th:method</code></p></li><li class="list__item" id="-vkyai3_228"><p id="-vkyai3_239"><span class="control" id="-vkyai3_241">Classe Pojo (<code class="code" id="-vkyai3_242">MessageForm.java</code>) :</span></p><div class="code-block" data-lang="java">
// Un objet simple pour contenir les données du formulaire
public class MessageForm {
    private String sender;
    private String content;

    // Getters et Setters OBLIGATOIRES pour la liaison de formulaire
    public String getSender() { return sender; }
    public void setSender(String sender) { this.sender = sender; }
    public String getContent() { return content; }
    public void setContent(String content) { this.content = content; }
}
</div></li><li class="list__item" id="-vkyai3_229"><p id="-vkyai3_243"><span class="control" id="-vkyai3_245">Contr&ocirc;leur (<code class="code" id="-vkyai3_246">FormController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
// Assurez-vous d'importer ou de définir MessageForm

@Controller
public class FormController {

    // Afficher le formulaire vide
    @GetMapping(&quot;/contact&quot;)
    public String showContactForm(Model model) {
        model.addAttribute(&quot;messageForm&quot;, new MessageForm()); // Objet vide pour le formulaire
        return &quot;contact-form&quot;; // Nom du template HTML
    }

    // Traiter la soumission du formulaire
    @PostMapping(&quot;/submit-contact&quot;)
    public String submitContactForm(@ModelAttribute MessageForm messageForm, Model model) {
        // Ici, on traiterait les données (ex: sauvegarde en BDD)
        System.out.println(&quot;Expéditeur: &quot; + messageForm.getSender());
        System.out.println(&quot;Message: &quot; + messageForm.getContent());

        model.addAttribute(&quot;submittedSender&quot;, messageForm.getSender());
        model.addAttribute(&quot;submittedContent&quot;, messageForm.getContent());
        return &quot;contact-success&quot;; // Page de confirmation
    }
}
</div></li><li class="list__item" id="-vkyai3_230"><p id="-vkyai3_247"><span class="control" id="-vkyai3_249">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_250">src/main/resources/templates/contact-form.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_248"><li class="list__item" id="-vkyai3_251"><p id="-vkyai3_255">Cr&eacute;e un formulaire (<code class="code" id="-vkyai3_256">&lt;form&gt;</code>) qui soumet les donn&eacute;es &agrave; <code class="code" id="-vkyai3_257">/submit-contact</code> via POST.</p></li><li class="list__item" id="-vkyai3_252"><p id="-vkyai3_258">Lie le formulaire &agrave; l'objet <code class="code" id="-vkyai3_259">messageForm</code> en utilisant <code class="code" id="-vkyai3_260">th:object</code>.</p></li><li class="list__item" id="-vkyai3_253"><p id="-vkyai3_261">Cr&eacute;e des champs de saisie (<code class="code" id="-vkyai3_262">&lt;input type=&quot;text&quot;&gt;</code>, <code class="code" id="-vkyai3_263">&lt;textarea&gt;</code>) pour <code class="code" id="-vkyai3_264">sender</code> et <code class="code" id="-vkyai3_265">content</code> en utilisant <code class="code" id="-vkyai3_266">th:field</code>.</p></li><li class="list__item" id="-vkyai3_254"><p id="-vkyai3_267">Ajoute un bouton de soumission (<code class="code" id="-vkyai3_268">&lt;button type=&quot;submit&quot;&gt;</code>).</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-contact-form-html" data-toc="correction-contact-form-html">Correction (<code class="code" id="-vkyai3_274">contact-form.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Formulaire de Contact&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Contactez-nous&lt;/h1&gt;
        &lt;form th:action=&quot;@{/submit-contact}&quot; th:object=&quot;${messageForm}&quot; method=&quot;post&quot;&gt;
            &lt;div&gt;
                &lt;label for=&quot;senderInput&quot;&gt;Votre Nom:&lt;/label&gt;
                &lt;input type=&quot;text&quot; id=&quot;senderInput&quot; th:field=&quot;*{sender}&quot; /&gt;
                 &lt;!-- th:field génère id=&quot;sender&quot;, name=&quot;sender&quot; et value=&quot;...&quot; --&gt;
            &lt;/div&gt;
            &lt;div&gt;
                &lt;label for=&quot;contentInput&quot;&gt;Votre Message:&lt;/label&gt;
                &lt;textarea id=&quot;contentInput&quot; th:field=&quot;*{content}&quot; rows=&quot;4&quot; cols=&quot;50&quot;&gt;&lt;/textarea&gt;
                 &lt;!-- th:field génère id=&quot;content&quot;, name=&quot;content&quot; et remplit le contenu --&gt;
            &lt;/div&gt;
            &lt;div&gt;
                &lt;button type=&quot;submit&quot;&gt;Envoyer&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div><ul class="list _bullet" id="-vkyai3_271"><li class="list__item" id="-vkyai3_275"><p id="-vkyai3_276"><span class="control" id="-vkyai3_277">Template pour la page de succ&egrave;s (<code class="code" id="-vkyai3_278">src/main/resources/templates/contact-success.html</code>) :</span></p></li></ul><div class="code-block" data-lang="markup">
     &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;Message Envoyé&lt;/title&gt;&lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Message Envoyé !&lt;/h1&gt;
        &lt;p&gt;Merci &lt;strong th:text=&quot;${submittedSender}&quot;&gt;Expéditeur&lt;/strong&gt;,&lt;/p&gt;
        &lt;p&gt;Votre message suivant a été reçu :&lt;/p&gt;
        &lt;blockquote th:text=&quot;${submittedContent}&quot;&gt;Contenu du message&lt;/blockquote&gt;
        &lt;a th:href=&quot;@{/contact}&quot;&gt;Envoyer un autre message&lt;/a&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-8-utilisation-des-fragments-thymeleaf-th-insert-ou-th-replace" data-toc="exercice-8-utilisation-des-fragments-thymeleaf-th-insert-ou-th-replace">Exercice 8 : Utilisation des fragments Thymeleaf (<code class="code" id="-vkyai3_282">th:insert</code> ou <code class="code" id="-vkyai3_283">th:replace</code>)</h2><ul class="list _bullet" id="-vkyai3_280"><li class="list__item" id="-vkyai3_284"><p id="-vkyai3_289"><span class="control" id="-vkyai3_290">Objectif :</span> Cr&eacute;er des parties de page r&eacute;utilisables (comme un header ou un footer) et les inclure dans d'autres templates.</p></li><li class="list__item" id="-vkyai3_285"><p id="-vkyai3_291"><span class="control" id="-vkyai3_292">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_293">th:fragment</code>, <code class="code" id="-vkyai3_294">th:insert</code>, <code class="code" id="-vkyai3_295">th:replace</code></p></li><li class="list__item" id="-vkyai3_286"><p id="-vkyai3_296"><span class="control" id="-vkyai3_298">Contr&ocirc;leur (<code class="code" id="-vkyai3_299">LayoutController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class LayoutController {

    @GetMapping(&quot;/home&quot;)
    public String homePage() {
        return &quot;home-page&quot;; // Template principal
    }

    @GetMapping(&quot;/about&quot;)
    public String aboutPage() {
        return &quot;about-page&quot;; // Autre template utilisant le layout
    }
}
</div></li><li class="list__item" id="-vkyai3_287"><p id="-vkyai3_300"><span class="control" id="-vkyai3_302">Template Fragment &agrave; cr&eacute;er (<code class="code" id="-vkyai3_303">src/main/resources/templates/fragments/layout.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_301"><li class="list__item" id="-vkyai3_304"><p id="-vkyai3_307">Cr&eacute;e un fichier contenant des fragments r&eacute;utilisables.</p></li><li class="list__item" id="-vkyai3_305"><p id="-vkyai3_308">D&eacute;finit un fragment <code class="code" id="-vkyai3_309">header</code> (par exemple, avec un <code class="code" id="-vkyai3_310">&lt;h1&gt;</code> et une navigation simple).</p></li><li class="list__item" id="-vkyai3_306"><p id="-vkyai3_311">D&eacute;finit un fragment <code class="code" id="-vkyai3_312">footer</code> (par exemple, avec un copyright).</p></li></ul></li><li class="list__item" id="-vkyai3_288"><p id="-vkyai3_313"><span class="control" id="-vkyai3_315">Template Principal &agrave; cr&eacute;er (<code class="code" id="-vkyai3_316">src/main/resources/templates/home-page.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_314"><li class="list__item" id="-vkyai3_317"><p id="-vkyai3_320">Inclut le fragment <code class="code" id="-vkyai3_321">header</code> de <code class="code" id="-vkyai3_322">fragments/layout.html</code>.</p></li><li class="list__item" id="-vkyai3_318"><p id="-vkyai3_323">Ajoute du contenu sp&eacute;cifique &agrave; la page d'accueil.</p></li><li class="list__item" id="-vkyai3_319"><p id="-vkyai3_324">Inclut le fragment <code class="code" id="-vkyai3_325">footer</code> de <code class="code" id="-vkyai3_326">fragments/layout.html</code>.</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-fragments" data-toc="correction-fragments">Correction fragments</h3></div><div class="collapse__content"><p id="-vkyai3_327"><span class="control" id="-vkyai3_334"><code class="code" id="-vkyai3_335">fragments/layout.html</code></span></p><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
       &lt;!-- Ce head peut aussi être un fragment si besoin --&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;!-- Fragment Header --&gt;
        &lt;header th:fragment=&quot;header&quot;&gt;
            &lt;h1&gt;Mon Super Site&lt;/h1&gt;
            &lt;nav&gt;
                &lt;a th:href=&quot;@{/home}&quot;&gt;Accueil&lt;/a&gt; |
                &lt;a th:href=&quot;@{/about}&quot;&gt;À Propos&lt;/a&gt; |
                &lt;a th:href=&quot;@{/products}&quot;&gt;Produits (Exo 4)&lt;/a&gt; |
                 &lt;a th:href=&quot;@{/contact}&quot;&gt;Contact (Exo 7)&lt;/a&gt;
            &lt;/nav&gt;
            &lt;hr&gt;
        &lt;/header&gt;

        &lt;!-- Fragment Footer --&gt;
        &lt;footer th:fragment=&quot;footer&quot;&gt;
            &lt;hr&gt;
            &lt;p&gt;&amp;copy; 2023 Mon Entreprise. Tous droits réservés.&lt;/p&gt;
        &lt;/footer&gt;

    &lt;/body&gt;
    &lt;/html&gt;
</div><p id="-vkyai3_329"><code class="code" id="-vkyai3_336">home-page.html</code></p><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Accueil&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- Insérer le header ici --&gt;
        &lt;div th:insert=&quot;~{fragments/layout :: header}&quot;&gt;&lt;/div&gt;
        &lt;!-- Alternative: th:replace remplace la div elle-même --&gt;
        &lt;!-- &lt;header th:replace=&quot;~{fragments/layout :: header}&quot;&gt;&lt;/header&gt; --&gt;

        &lt;main&gt;
            &lt;h2&gt;Bienvenue sur la page d'accueil !&lt;/h2&gt;
            &lt;p&gt;Ceci est le contenu spécifique de la page d'accueil.&lt;/p&gt;
        &lt;/main&gt;

        &lt;!-- Insérer le footer ici --&gt;
        &lt;div th:insert=&quot;~{fragments/layout :: footer}&quot;&gt;&lt;/div&gt;
        &lt;!-- Alternative: th:replace remplace la div elle-même --&gt;
        &lt;!-- &lt;footer th:replace=&quot;~{fragments/layout :: footer}&quot;&gt;&lt;/footer&gt; --&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div><p id="-vkyai3_331"><span class="control" id="-vkyai3_337">Template <code class="code" id="-vkyai3_338">about-page.html</code> (pour tester la r&eacute;utilisabilit&eacute;) :</span></p><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;À Propos&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div th:insert=&quot;~{fragments/layout :: header}&quot;&gt;&lt;/div&gt;

        &lt;main&gt;
            &lt;h2&gt;À Propos de Nous&lt;/h2&gt;
            &lt;p&gt;Informations sur l'entreprise ou le site.&lt;/p&gt;
        &lt;/main&gt;

        &lt;div th:insert=&quot;~{fragments/layout :: footer}&quot;&gt;&lt;/div&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-9-utilisation-des-objets-utilitaires-numbers-strings-dates" data-toc="exercice-9-utilisation-des-objets-utilitaires-numbers-strings-dates">Exercice 9 : Utilisation des objets utilitaires (<code class="code" id="-vkyai3_342">#numbers</code>, <code class="code" id="-vkyai3_343">#strings</code>, <code class="code" id="-vkyai3_344">#dates</code>)</h2><ul class="list _bullet" id="-vkyai3_340"><li class="list__item" id="-vkyai3_345"><p id="-vkyai3_350"><span class="control" id="-vkyai3_351">Objectif :</span> Utiliser les objets utilitaires int&eacute;gr&eacute;s de Thymeleaf pour formater des nombres, manipuler des cha&icirc;nes ou formater des dates.</p></li><li class="list__item" id="-vkyai3_346"><p id="-vkyai3_352"><span class="control" id="-vkyai3_353">Concepts Thymeleaf :</span> Objets utilitaires <code class="code" id="-vkyai3_354">#numbers</code>, <code class="code" id="-vkyai3_355">#strings</code>, <code class="code" id="-vkyai3_356">#dates</code>, <code class="code" id="-vkyai3_357">#calendars</code></p></li><li class="list__item" id="-vkyai3_347"><p id="-vkyai3_358"><span class="control" id="-vkyai3_360">Classe Pojo (<code class="code" id="-vkyai3_361">Event.java</code>) :</span></p><div class="code-block" data-lang="java">
import java.time.LocalDate;
import java.util.Calendar;
import java.util.Date;

public class Event {
    private String name;
    private double ticketPrice;
    private String description;
    private LocalDate eventDate; // Utiliser java.time pour les dates modernes
    private Date legacyDate; // Pour montrer le formatage avec java.util.Date

    // Constructeur, Getters
    public Event(String name, double ticketPrice, String description, LocalDate eventDate) {
        this.name = name;
        this.ticketPrice = ticketPrice;
        this.description = description;
        this.eventDate = eventDate;
        // Créer une Date legacy à partir de LocalDate pour l'exemple
        this.legacyDate = java.sql.Date.valueOf(eventDate);
    }

    public String getName() { return name; }
    public double getTicketPrice() { return ticketPrice; }
    public String getDescription() { return description; }
    public LocalDate getEventDate() { return eventDate; }
    public Date getLegacyDate() { return legacyDate; }
}
</div></li><li class="list__item" id="-vkyai3_348"><p id="-vkyai3_362"><span class="control" id="-vkyai3_364">Contr&ocirc;leur (<code class="code" id="-vkyai3_365">UtilityController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import java.time.LocalDate;
// Assurez-vous d'importer ou de définir Event

@Controller
public class UtilityController {

    @GetMapping(&quot;/event-details&quot;)
    public String showEventDetails(Model model) {
        Event event = new Event(
            &quot;Concert Annuel&quot;,
            49.995, // Prix avec plus de décimales
            &quot;   Un événement musical à ne pas manquer !   &quot;, // Avec espaces
            LocalDate.of(2024, 10, 26)
        );
        model.addAttribute(&quot;event&quot;, event);
        return &quot;event-details-view&quot;; // Nom du template HTML
    }
}
</div></li><li class="list__item" id="-vkyai3_349"><p id="-vkyai3_366"><span class="control" id="-vkyai3_368">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_369">src/main/resources/templates/event-details-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_367"><li class="list__item" id="-vkyai3_370"><p id="-vkyai3_374">Affiche le nom de l'&eacute;v&eacute;nement.</p></li><li class="list__item" id="-vkyai3_371"><p id="-vkyai3_375">Affiche le prix du billet format&eacute; en devise (ex: &euro;49.99) en utilisant <code class="code" id="-vkyai3_376">#numbers</code>.</p></li><li class="list__item" id="-vkyai3_372"><p id="-vkyai3_377">Affiche la description sans les espaces au d&eacute;but et &agrave; la fin, et en majuscules, en utilisant <code class="code" id="-vkyai3_378">#strings</code>.</p></li><li class="list__item" id="-vkyai3_373"><p id="-vkyai3_379">Affiche la date de l'&eacute;v&eacute;nement format&eacute;e (ex: 26 octobre 2024) en utilisant <code class="code" id="-vkyai3_380">#dates</code> ou <code class="code" id="-vkyai3_381">#temporals</code> (pour <code class="code" id="-vkyai3_382">java.time</code>).</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-event-details-view-html" data-toc="correction-event-details-view-html">Correction (<code class="code" id="-vkyai3_386">event-details-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Détails Événement&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Détails de l'Événement&lt;/h1&gt;
        &lt;p&gt;Nom: &lt;strong th:text=&quot;${event.name}&quot;&gt;Nom Événement&lt;/strong&gt;&lt;/p&gt;

        &lt;h2&gt;Informations Utiles&lt;/h2&gt;
        &lt;ul&gt;
            &lt;li&gt;
                Prix: &lt;span th:text=&quot;${#numbers.formatCurrency(event.ticketPrice)}&quot;&gt;0.00 €&lt;/span&gt;
                 &lt;!-- Par défaut, utilise Locale système. Peut forcer: #numbers.formatCurrency(event.ticketPrice, 'EUR') --&gt;
                 &lt;!-- Autre formatage: &lt;span th:text=&quot;${#numbers.formatDecimal(event.ticketPrice, 1, 2)}&quot;&gt;0.00&lt;/span&gt; --&gt;
            &lt;/li&gt;
            &lt;li&gt;
                Description (nettoyée et majuscules):
                &lt;strong th:text=&quot;${#strings.toUpperCase(#strings.trim(event.description))}&quot;&gt;DESCRIPTION&lt;/strong&gt;
                 &lt;!-- Vérifier si vide: &lt;span th:if=&quot;${#strings.isEmpty(event.description)}&quot;&gt;Pas de description&lt;/span&gt; --&gt;
                 &lt;!-- Tronquer: &lt;span th:text=&quot;${#strings.abbreviate(event.description, 20)}&quot;&gt;Desc...&lt;/span&gt; --&gt;
            &lt;/li&gt;
             &lt;li&gt;
                Date (avec #temporals pour java.time):
                &lt;span th:text=&quot;${#temporals.format(event.eventDate, 'dd MMMM yyyy', #locale.forLanguageTag('fr'))}&quot;&gt;jj mois aaaa&lt;/span&gt;
                &lt;!-- Autres formats: 'dd/MM/yyyy', 'EEEE dd MMMM yyyy' (Jour de la semaine complet) --&gt;
            &lt;/li&gt;
             &lt;li&gt;
                Date (avec #dates pour java.util.Date):
                &lt;span th:text=&quot;${#dates.format(event.legacyDate, 'dd-MMM-yyyy')}&quot;&gt;jj-Mon-aaaa&lt;/span&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div></div></div></section></section><section class="chapter"><h2 id="exercice-10-affichage-conditionnel-avec-th-switch-th-case" data-toc="exercice-10-affichage-conditionnel-avec-th-switch-th-case">Exercice 10 : Affichage conditionnel avec <code class="code" id="-vkyai3_390">th:switch</code>/<code class="code" id="-vkyai3_391">th:case</code></h2><ul class="list _bullet" id="-vkyai3_388"><li class="list__item" id="-vkyai3_392"><p id="-vkyai3_397"><span class="control" id="-vkyai3_398">Objectif :</span> Afficher diff&eacute;rents contenus en fonction de la valeur d'une variable, similaire &agrave; un <code class="code" id="-vkyai3_399">switch</code> en Java.</p></li><li class="list__item" id="-vkyai3_393"><p id="-vkyai3_400"><span class="control" id="-vkyai3_401">Concepts Thymeleaf :</span> <code class="code" id="-vkyai3_402">th:switch</code>, <code class="code" id="-vkyai3_403">th:case</code></p></li><li class="list__item" id="-vkyai3_394"><p id="-vkyai3_404"><span class="control" id="-vkyai3_406">Classe Enum (<code class="code" id="-vkyai3_407">UserRole.java</code>) :</span></p><div class="code-block" data-lang="java">
public enum UserRole {
    ADMIN, EDITOR, GUEST
}
</div></li><li class="list__item" id="-vkyai3_395"><p id="-vkyai3_408"><span class="control" id="-vkyai3_411">Contr&ocirc;leur (<code class="code" id="-vkyai3_412">SwitchController.java</code>) :</span></p><div class="code-block" data-lang="java">
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
// Assurez-vous d'importer ou de définir UserRole

@Controller
public class SwitchController {

    @GetMapping(&quot;/dashboard&quot;)
    public String showDashboard(@RequestParam(defaultValue = &quot;GUEST&quot;) String role, Model model) {
        UserRole userRole;
        try {
            userRole = UserRole.valueOf(role.toUpperCase());
        } catch (IllegalArgumentException e) {
            userRole = UserRole.GUEST; // Valeur par défaut si invalide
        }
        model.addAttribute(&quot;userRole&quot;, userRole);
        return &quot;dashboard-view&quot;; // Nom du template HTML
    }
}
</div><p id="-vkyai3_410"><span class="emphasis" id="-vkyai3_413">Acc&eacute;dez via <code class="code" id="-vkyai3_414">/dashboard?role=ADMIN</code>, <code class="code" id="-vkyai3_415">/dashboard?role=EDITOR</code> ou <code class="code" id="-vkyai3_416">/dashboard</code> (role sera GUEST).</span></p></li><li class="list__item" id="-vkyai3_396"><p id="-vkyai3_417"><span class="control" id="-vkyai3_419">Template Thymeleaf &agrave; cr&eacute;er (<code class="code" id="-vkyai3_420">src/main/resources/templates/dashboard-view.html</code>) :</span></p><ul class="list _bullet" id="-vkyai3_418"><li class="list__item" id="-vkyai3_421"><p id="-vkyai3_425">Utilise <code class="code" id="-vkyai3_426">th:switch</code> sur la variable <code class="code" id="-vkyai3_427">userRole</code>.</p></li><li class="list__item" id="-vkyai3_422"><p id="-vkyai3_428">Utilise <code class="code" id="-vkyai3_429">th:case</code> pour afficher un message sp&eacute;cifique si le r&ocirc;le est <code class="code" id="-vkyai3_430">ADMIN</code>.</p></li><li class="list__item" id="-vkyai3_423"><p id="-vkyai3_431">Utilise <code class="code" id="-vkyai3_432">th:case</code> pour afficher un message diff&eacute;rent si le r&ocirc;le est <code class="code" id="-vkyai3_433">EDITOR</code>.</p></li><li class="list__item" id="-vkyai3_424"><p id="-vkyai3_434">Utilise <code class="code" id="-vkyai3_435">th:case=&quot;*&quot;</code> (cas par d&eacute;faut) pour afficher un message si le r&ocirc;le est autre (<code class="code" id="-vkyai3_436">GUEST</code> ou inconnu).</p></li></ul></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-dashboard-view-html" data-toc="correction-dashboard-view-html">Correction (<code class="code" id="-vkyai3_440">dashboard-view.html</code>)</h3></div><div class="collapse__content"><div class="code-block" data-lang="markup">
    &lt;!DOCTYPE html&gt;
    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;Tableau de Bord&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Tableau de Bord&lt;/h1&gt;
        &lt;p&gt;Votre rôle : &lt;strong th:text=&quot;${userRole}&quot;&gt;ROLE&lt;/strong&gt;&lt;/p&gt;

        &lt;div th:switch=&quot;${userRole}&quot;&gt;
            &lt;div th:case=&quot;${T(com.example.demo.UserRole).ADMIN}&quot;&gt; &lt;!-- Chemin complet vers l'Enum ou import --&gt;
                &lt;h2&gt;Accès Administrateur&lt;/h2&gt;
                &lt;p&gt;Vous avez un accès complet au système.&lt;/p&gt;
                &lt;button&gt;Gérer les utilisateurs&lt;/button&gt;
            &lt;/div&gt;
            &lt;div th:case=&quot;${T(com.example.demo.UserRole).EDITOR}&quot;&gt;
                &lt;h2&gt;Accès Éditeur&lt;/h2&gt;
                &lt;p&gt;Vous pouvez créer et modifier du contenu.&lt;/p&gt;
                &lt;button&gt;Créer un nouvel article&lt;/button&gt;
            &lt;/div&gt;
            &lt;div th:case=&quot;*&quot;&gt; &lt;!-- Cas par défaut --&gt;
                &lt;h2&gt;Accès Invité&lt;/h2&gt;
                &lt;p&gt;Bienvenue ! Vous pouvez consulter le contenu public.&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;hr&gt;
         &lt;p&gt;Tester d'autres rôles :
             &lt;a th:href=&quot;@{/dashboard(role='ADMIN')}&quot;&gt;Admin&lt;/a&gt; |
             &lt;a th:href=&quot;@{/dashboard(role='EDITOR')}&quot;&gt;Editor&lt;/a&gt; |
             &lt;a th:href=&quot;@{/dashboard(role='GUEST')}&quot;&gt;Guest&lt;/a&gt; |
             &lt;a th:href=&quot;@{/dashboard(role='INVALID')}&quot;&gt;Invalide&lt;/a&gt;
         &lt;/p&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</div><p id="-vkyai3_439"><span class="emphasis" id="-vkyai3_441">Note :</span> <code class="code" id="-vkyai3_442">T(com.example.demo.UserRole).ADMIN</code> est n&eacute;cessaire pour acc&eacute;der aux constantes de l'&eacute;num&eacute;ration. Remplacez <code class="code" id="-vkyai3_443">com.example.demo</code> par le package r&eacute;el de votre &eacute;num&eacute;ration <code class="code" id="-vkyai3_444">UserRole</code>.</p></div></div></section></section><div class="last-modified">Last modified: 12 mai 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="002-00-thymeleaf.html" class="navigation-links__prev">Thymeleaf</a><a href="003-00-di-ioc.html" class="navigation-links__next">Inversion de contr&ocirc;le et injection de d&eacute;pendance</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.js"></script></body></html>